{% extends "base.html" %}

{% block body %}
<div class="px-10 py-12 bg-[#00325A] min-h-screen">
  <div class="max-w-7xl mx-auto">
    <h1 class="text-2xl font-bold text-white mb-8">Resumo - {{ empresa_ativa.RAZAOSOCIAL }}</h1>

    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-10">
      <div class="bg-white/5 border border-white/10 rounded-xl p-5 shadow card-hover">
        <h3 class="text-sm text-white/70 mb-1">Funcionários</h3>
        <p class="text-3xl font-bold text-white">{{ total_funcionarios }}</p>
      </div>
      <div class="bg-white/5 border border-white/10 rounded-xl p-5 shadow card-hover">
        <h3 class="text-sm text-white/70 mb-1">Em Férias</h3>
        <p class="text-2xl font-semibold text-white">{{ total_ferias }} <span class="text-[#0072BC] text-base">({{ perc_ferias }}%)</span></p>
      </div>
      <div class="bg-white/5 border border-white/10 rounded-xl p-5 shadow card-hover">
        <h3 class="text-sm text-white/70 mb-1">Afastados</h3>
        <p class="text-2xl font-semibold text-white">{{ total_afastados }} <span class="text-[#0072BC] text-base">({{ perc_afastados }}%)</span></p>
      </div>
      <div class="bg-white/5 border border-white/10 rounded-xl p-5 shadow card-hover">
        <h3 class="text-sm text-white/70 mb-1">Sem Matrícula</h3>
        <p class="text-2xl font-semibold text-white">{{ total_sem_matricula }} <span class="text-[#E30613] text-base">({{ perc_sem_matricula }}%)</span></p>
      </div>
    </div>

    <div class="bg-white/5 border border-white/10 rounded-2xl shadow-xl overflow-hidden">
      <div class="p-6">
        <h2 class="text-xl text-white font-semibold mb-4">Colaboradores sem Matrícula</h2>
      </div>
      <div class="overflow-x-auto">
        <table class="w-full border-collapse">
          <thead class="bg-[#002844]">
            <tr>
              <th class="text-left px-6 py-4 text-white/60 text-sm tracking-wider">Nome</th>
              <th class="text-left px-6 py-4 text-white/60 text-sm tracking-wider">CPF</th>
              <th class="text-left px-6 py-4 text-white/60 text-sm tracking-wider">Setor</th>
              <th class="text-left px-6 py-4 text-white/60 text-sm tracking-wider">Situação</th>
            </tr>
          </thead>
          <tbody class="divide-y divide-white/10">
            {% for f in colaboradores_sem_matricula %}
            <tr class="hover:bg-white/5 transition-colors">
              <td class="flex items-center gap-2 px-6 py-4 text-white/90">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-white/60">
                  <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
                  <circle cx="12" cy="7" r="4"></circle>
                </svg>
                {{ f.NOME }}
              </td>
              <td class="px-6 py-4 text-white/90">{{ f.CPF }}</td>
              <td class="px-6 py-4 text-white/90">{{ f.NOMESETOR }}</td>
              <td class="px-6 py-4">
                <span class="bg-[#E30613]/90 text-white px-3 py-1 rounded-full text-xs font-bold">{{ f.SITUACAO }}</span>
              </td>
            </tr>
            {% empty %}
            <tr>
              <td colspan="4" class="text-center py-6 text-white/70">Nenhum colaborador encontrado.</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
{% endblock %}